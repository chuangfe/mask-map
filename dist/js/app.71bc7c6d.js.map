{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?cd80","webpack:///./src/components/Map/GetPopupTemplate.js","webpack:///./src/components/Map/MapHandler.js","webpack:///src/components/Information/index.vue","webpack:///./src/components/Map/index.vue?d8b9","webpack:///src/components/Map/index.vue","webpack:///./src/components/Map/index.vue?1697","webpack:///./src/components/Map/index.vue","webpack:///./src/components/Panel/template.html","webpack:///src/components/Panel/index.vue","webpack:///./src/components/Panel/index.vue?7296","webpack:///./src/components/Panel/index.vue","webpack:///./src/components/Information/template.html","webpack:///./src/assets/script/debounce.js","webpack:///./src/components/Information/index.vue?9621","webpack:///./src/components/Information/index.vue","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/App.vue?f446","webpack:///./public/images/sufficient.svg","webpack:///./public/images/current.svg","webpack:///./src/components/Information/style.scss?4a2d","webpack:///./src/components/Map/style.scss?7942","webpack:///./src/components/Panel/style.scss?081c"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","zoom","isAdult","on","isAdultHandler","setZoomHandler","setCenterHandler","staticRenderFns","getPopupTemplate","phone","address","adultMask","childMask","updated","class","number","map","marker","cluster","clusterIcon","L","icon","iconUrl","iconSize","markerIcons","markers","maxZoom","getIconIndex","adultIconIndex","childIconIndex","markerClickHandler","location","hash","options","storeId","popupCloseHandler","init","position","center","zoomControl","tileLayer","addTo","markerClusterGroup","maxClusterRadius","iconCreateFunction","disableClusteringAtZoom","forEach","index","properties","geometry","indexes","mask_adult","mask_child","coordinates","id","markerIndex","bindPopup","maxWidth","addLayer","setMarkersIcon","boolean","item","setIcon","getZoom","setZoom","setStore","setView","openPopup","setCenter","component","staticClass","active","$event","$emit","props","type","Number","required","Boolean","isActive","stopPropagation","touchstartHandler","wheelHandler","_v","_m","directives","rawName","expression","$$selectedVal","Array","filter","target","selected","val","_value","countyIndex","multiple","domProps","_l","_s","county","townIndex","town","isShowScroll","scrollMouseDownHandler","debounce","func","event","startTime","currentTime","timer","wait","limit","immediate","waitFunc","e","Date","getTime","undefined","clearTimeout","setTimeout","isMobileDevice","userAgent","indexOf","isMobile","isScroll","windowInnerWidth","informationContainerHeight","informationHeight","informationRange","informationTop","informationTouchstartY","scrollHeight","scrollRange","scrollTop","scrollMouseDownY","perfect","computed","countys","CountyTown","towns","methods","clientY","addEventListener","scrollWindowMouseMoveHandler","scrollWindowMouseUpHandler","top","setTop","removeEventListener","$el","style","userSelect","deltaY","information","offsetTop","changedTouches","touchmoveHandler","touchendHandler","Math","abs","resizeHandler","navigator","innerWidth","informationContainer","offsetHeight","watch","mounted","querySelector","document","body","MapHandler","calc","getHash","isNaN","components","MaskMapData","features","Vue","config","productionTip","render","h","App","$mount"],"mappings":"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","file":"js/app.71bc7c6d.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('MapComponent'),_c('Panel',{attrs:{\"zoom\":_vm.zoom,\"isAdult\":_vm.isAdult},on:{\"isAdult\":_vm.isAdultHandler,\"setZoom\":_vm.setZoomHandler}}),_c('Information',{on:{\"setCenter\":_vm.setCenterHandler}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\r\n * 生產 popup Element 的 function.\r\n * @param {String} name 藥局店名.\r\n * @param {String} phone 藥局電話.\r\n * @param {String} address 藥局地址.\r\n * @param {Object} adultMask 成人口罩資料.\r\n * @param {Object} childMask 小孩口罩資料.\r\n * @param {String} updated 資料更新時間.\r\n */\r\n\r\nexport default function getPopupTemplate({\r\n  name,\r\n  phone,\r\n  address,\r\n  adultMask,\r\n  childMask,\r\n  updated,\r\n}) {\r\n  return `<div class=\"item-container\">\r\n      <div class=\"store-status\">\r\n        <div class=\"mask-container ${adultMask.class}\">\r\n          <p class=\"title\">成人口罩數量</p>\r\n          <p class=\"quantity\">\r\n            <span>${adultMask.number}</span>片\r\n          </p>\r\n        </div>\r\n        <div class=\"mask-container ${childMask.class}\">\r\n          <p class=\"title\">兒童口罩數量</p>\r\n          <p class=\"quantity\">\r\n            <span>${childMask.number}</span>片\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <p class=\"store-name\">${name}</p>\r\n      <p class=\"store-address\">\r\n          <span class=\"icon fas fa-map-marked-alt\"></span>\r\n          <span class=\"underline\">\r\n            <a href=\"https://www.google.com/maps?q=${name}+${address}\" target=\"_blank\">\r\n              ${address}\r\n            </a>\r\n          </span>\r\n      </p>\r\n      <p class=\"store-phone\">\r\n        <span class=\"icon fas fa-phone\"></span>\r\n        <span class=\"underline\">\r\n          ${phone}\r\n        </span>\r\n      </p>\r\n      <p class=\"store-update\">\r\n      <span class=\"icon fas fa-sync-alt\"></span>\r\n        ${updated}\r\n      </p>\r\n    </div>`;\r\n}\r\n","// 生產 popup Element 的 function.\r\nimport getPopupTemplate from \"./GetPopupTemplate\";\r\n\r\n// cluster marker 收縮時使用的 icon 圖標.\r\nconst clusterIcon = L.icon({\r\n  iconUrl: \"./images/current.svg\",\r\n  iconSize: [48, 48],\r\n});\r\n\r\n// 依據口罩的數量, 選擇不同的 icon class 使用.\r\nconst markerIcons = [\r\n  // 販售結束, 灰色\r\n  {\r\n    icon: L.icon({\r\n      iconUrl: \"./images/sold-out.svg\",\r\n      iconSize: [48, 48],\r\n    }),\r\n    class: \"sold-out\",\r\n  },\r\n  // 警急情況, 紅色\r\n  {\r\n    icon: L.icon({\r\n      iconUrl: \"./images/emergency.svg\",\r\n      iconSize: [48, 48],\r\n    }),\r\n    class: \"emergency\",\r\n  },\r\n  // 警告, 橘色\r\n  {\r\n    icon: L.icon({\r\n      iconUrl: \"./images/warning.svg\",\r\n      iconSize: [48, 48],\r\n    }),\r\n    class: \"warning\",\r\n  },\r\n  // 充足, 綠色\r\n  {\r\n    icon: L.icon({\r\n      iconUrl: \"./images/sufficient.svg\",\r\n      iconSize: [48, 48],\r\n    }),\r\n    class: \"sufficient\",\r\n  },\r\n];\r\n\r\n// map 地圖, 需要後續操作.\r\n// marker 單一的標記, 迴圈時會再賦值.\r\n// 配合 Marker Cluster 插件的變數.\r\nlet map, marker, cluster;\r\n\r\n// markers 保存所有的資料產生的 marker 和兩種口罩的 icon 的索引.\r\nconst markers = [],\r\n  // 地圖最大的放大倍率.\r\n  maxZoom = 18;\r\n\r\n/**\r\n * 依據兩種口罩數量, 判斷口罩使用的 icon 圖標.\r\n * @param {Number} adultMask 成人口罩數量.\r\n * @param {Number} childMask 兒童口罩數量.\r\n */\r\nfunction getIconIndex({ adultMask, childMask }) {\r\n  let adultIconIndex = 0,\r\n    childIconIndex = 0;\r\n\r\n  // 判斷成人口罩資料使用 markerIcons 的索引.\r\n  if (adultMask > 1000) {\r\n    adultIconIndex = 3;\r\n  } else if (adultMask > 500) {\r\n    adultIconIndex = 2;\r\n  } else if (adultMask > 0) {\r\n    adultIconIndex = 1;\r\n  } else {\r\n    adultIconIndex = 0;\r\n  }\r\n\r\n  // 判斷小孩口罩資料使用 markerIcons 的索引.\r\n  if (childMask > 1000) {\r\n    childIconIndex = 3;\r\n  } else if (childMask > 500) {\r\n    childIconIndex = 2;\r\n  } else if (childMask > 0) {\r\n    childIconIndex = 1;\r\n  } else {\r\n    childIconIndex = 0;\r\n  }\r\n\r\n  return { adultIconIndex, childIconIndex };\r\n}\r\n\r\n// marker 點擊事件, 用於設置 hash 值.\r\nfunction markerClickHandler() {\r\n  // 藥局 id 資料, 字串類型.\r\n  // this.options.storeId;\r\n  // marker index, 數值資料\r\n  // this.options.markerId;\r\n  location.hash = this.options.storeId;\r\n}\r\n\r\n// marker 關閉 popup 事件, 刪除 hash 值.\r\nfunction popupCloseHandler() {\r\n  location.hash = \"\";\r\n}\r\n\r\nexport default {\r\n  // 地圖初始化.\r\n  init({ data, position, zoom }) {\r\n    // 地圖初始化.\r\n    map = L.map(\"map\", {\r\n      // 目前的緯度, 經度.\r\n      // center: [25.03746, 121.564558],\r\n      // center: [25.583234, 120.58552886],\r\n      center: position,\r\n      // 目前的縮放比例.\r\n      zoom,\r\n      zoomControl: false,\r\n    });\r\n\r\n    // 地圖的資料.\r\n    L.tileLayer(\r\n      \"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png\"\r\n    ).addTo(map);\r\n\r\n    // 使用 Marker Cluster 插件, 可以將範圍內的 marker 合併.\r\n    cluster = L.markerClusterGroup({\r\n      // marker 收縮範圍, 預設 80 px, 若減少提高消耗性能.\r\n      maxClusterRadius: 100,\r\n      // 複數 marker 收縮時, 使用的圖標.\r\n      iconCreateFunction() {\r\n        return clusterIcon;\r\n      },\r\n      // 當地圖縮放到達限制後, 不再收縮複數的 marker icon 圖標.\r\n      disableClusteringAtZoom: maxZoom,\r\n    });\r\n\r\n    data.forEach(({ properties, geometry }, index) => {\r\n      // 紀錄兩種口罩的 icon index 物件.\r\n      const indexes = getIconIndex({\r\n        adultMask: properties.mask_adult,\r\n        childMask: properties.mask_child,\r\n      });\r\n\r\n      // 新增藥局的 marker 座標, 與 icon 圖標.\r\n      marker = L.marker([geometry.coordinates[1], geometry.coordinates[0]], {\r\n        icon:\r\n          // marker 預設顯示成人口罩數量的 icon 圖標.\r\n          markerIcons[indexes.adultIconIndex].icon,\r\n        // marker 保存藥局 id 資料, 字串類型.\r\n        storeId: properties.id,\r\n        // marker 索引, 數值類型.\r\n        markerIndex: index,\r\n      });\r\n\r\n      // marker 的 popup 彈窗創建.\r\n      marker.bindPopup(\r\n        // 藥局的 popup Element 模板.\r\n        getPopupTemplate({\r\n          name: properties.name,\r\n          phone: properties.phone,\r\n          address: properties.address,\r\n          adultMask: {\r\n            number: properties.mask_adult,\r\n            class: markerIcons[indexes.adultIconIndex].class,\r\n          },\r\n          childMask: {\r\n            number: properties.mask_child,\r\n            class: markerIcons[indexes.childIconIndex].class,\r\n          },\r\n          updated: properties.updated,\r\n        }),\r\n        {\r\n          // 藥局的 popup 不限制寬度.\r\n          maxWidth: \"auto\",\r\n        }\r\n      );\r\n\r\n      // marker click 時, 修改 hash 值.\r\n      marker.on(\"click\", markerClickHandler);\r\n      // marker 關閉 popup 時, 刪除 hash 值.\r\n      marker.on(\"popupclose\", popupCloseHandler);\r\n\r\n      // 保存資料, 切換口罩顯示不同的 icon 時會用到.\r\n      // 格式應該是這樣 item = { marker, adultIconIndex, childIconIndex };\r\n      markers.push({\r\n        adultIconIndex: indexes.adultIconIndex,\r\n        childIconIndex: indexes.childIconIndex,\r\n        marker,\r\n      });\r\n\r\n      // 將 marker 包進 Marker Cluster 插件的物件.\r\n      // addLayer 是用於創建畫不規則形狀的圖層時用的方法.\r\n      cluster.addLayer(marker);\r\n    });\r\n\r\n    // 將 Marker Cluster 插件的物件, 丟給 map 地圖.\r\n    map.addLayer(cluster);\r\n  },\r\n  /**\r\n   * 切換 marker icon 圖標, 是依照成人口罩 or 兒童口罩的資料.\r\n   * @param {Boolean} boolean\r\n   * true = 顯示成人口罩的 icon.\r\n   * false = 顯示兒童口罩的 icon.\r\n   */\r\n  setMarkersIcon(boolean) {\r\n    markers.forEach((item) => {\r\n      // 如果 icon index 相同, 可以檔掉這次迴圈.\r\n      if (item.adultIconIndex === item.childIconIndex) return false;\r\n\r\n      item.marker.setIcon(\r\n        markerIcons[boolean ? item.adultIconIndex : item.childIconIndex].icon\r\n      );\r\n    });\r\n  },\r\n  // 讀取當前 map 的縮放倍率.\r\n  getZoom() {\r\n    return map.getZoom();\r\n  },\r\n  /**\r\n   * 設定 map 的縮放倍率.\r\n   * @param {Number} zoom 地圖縮放的倍率.\r\n   */\r\n  setZoom(zoom) {\r\n    map.setZoom(zoom);\r\n  },\r\n  /**\r\n   * 顯示指定的藥局.\r\n   * @param {Array} center 經緯度.\r\n   * @param {Number} index 藥局在資料的陣列中的索引.\r\n   */\r\n  setStore({ center, index }) {\r\n    // 地圖跳轉到指定藥局.\r\n    map.setView(center, maxZoom);\r\n    // 藥局的 popup 顯示.\r\n    markers[index].marker.openPopup();\r\n  },\r\n  /**\r\n   * 設定地圖中央的經緯度, 預計將功能給縣市的跳轉.\r\n   * @param {Array} center 經緯度.\r\n   * @param {Number} zoom 地圖縮放的倍率.\r\n   */\r\n  setCenter({ center, zoom = 13 }) {\r\n    map.setView(center, zoom);\r\n  },\r\n};\r\n","<script>\r\n// 簡略的城市地區經緯度.\r\nimport CountyTown from \"../../data/CountyTown.json\";\r\n// 節流函式.\r\nimport debounce from \"../../assets/script/debounce\";\r\n// 保存 DOM, 事件需要計算與設值樣式.\r\nlet informationContainer, information, scroll;\r\n\r\n// 判斷裝置.\r\nconst mobileDevices = [\r\n  \"Android\",\r\n  \"webOS\",\r\n  \"iPhone\",\r\n  \"iPad\",\r\n  \"iPod\",\r\n  \"BlackBerry\",\r\n  \"Windows Phone\",\r\n];\r\nfunction isMobileDevice(userAgent) {\r\n  const index = mobileDevices.findIndex((item) => {\r\n    // 若找到字串就返回 true.\r\n    if (userAgent.indexOf(item) !== -1) return true;\r\n  });\r\n  // index === -1 代表沒有找到字串, 是使用電腦打開網頁.\r\n  return index === -1 ? false : true;\r\n}\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 表單使用, 當前選擇的城市.\r\n      countyIndex: null,\r\n      // 表單使用, 當前選擇的地區.\r\n      townIndex: null,\r\n\r\n      // information-container 區塊是否顯示.\r\n      isActive: false,\r\n      // 判斷當前裝置的類型.\r\n      isMobile: false,\r\n      // 判斷 scroll wheel event 是否執行.\r\n      isScroll: false,\r\n      // scroll 是否顯示.\r\n      isShowScroll: false,\r\n\r\n      // window 的寬度.\r\n      windowInnerWidth: 0,\r\n      // information container 的可移動高度.\r\n      informationContainerHeight: 0,\r\n      // information 內容的高度.\r\n      informationHeight: 0,\r\n      // 計算 information 可移動範圍.\r\n      informationRange: 0,\r\n      // 當前 information 的 top 樣式的值.\r\n      informationTop: 0,\r\n      // touchstart 事件的 clientY.\r\n      informationTouchstartY: 0,\r\n\r\n      // scroll 的高度.\r\n      scrollHeight: 0,\r\n      // 計算 scroll 可移動範圍.\r\n      scrollRange: 0,\r\n      // 紀錄當前 scroll top 樣式的值.\r\n      scrollTop: 0,\r\n      // 紀錄 scroll mousedown event y 的值.\r\n      scrollMouseDownY: 0,\r\n\r\n      // 設置 style top 樣式的百分比, 配合自訂指令使用.\r\n      perfect: 0,\r\n    };\r\n  },\r\n  computed: {\r\n    countys() {\r\n      return CountyTown;\r\n    },\r\n    towns() {\r\n      // 如果沒選擇城市, 地區就不顯示.\r\n      return this.countyIndex === null\r\n        ? []\r\n        : CountyTown[this.countyIndex].towns;\r\n    },\r\n  },\r\n  methods: {\r\n    scrollMouseDownHandler(event) {\r\n      // 關閉 scroll whell event 事件, 當前是 mobile 裝置.\r\n      if (!this.isScroll && this.isMobile) return false;\r\n\r\n      // 當前 top 定位座標.\r\n      this.scrollTop = scroll.offsetTop;\r\n      // 滑鼠按下的 Y 軸座標.\r\n      this.scrollMouseDownY = event.clientY;\r\n\r\n      window.addEventListener(\"mousemove\", this.scrollWindowMouseMoveHandler);\r\n      window.addEventListener(\"mouseup\", this.scrollWindowMouseUpHandler);\r\n    },\r\n    scrollWindowMouseMoveHandler({ clientY }) {\r\n      // 阻擋 mousemove 在 chreme 的 bug.\r\n      if (clientY === this.scrollMouseDownY) return false;\r\n\r\n      // 捲軸移動的 top 定位.\r\n      let top = this.scrollTop + clientY - this.scrollMouseDownY;\r\n      // 限制 top 定位的上下限.\r\n      if (top < 0) top = 0;\r\n      if (top > this.scrollRange) top = this.scrollRange;\r\n\r\n      this.perfect = top / this.scrollRange;\r\n      this.setTop();\r\n    },\r\n    scrollWindowMouseUpHandler() {\r\n      window.removeEventListener(\r\n        \"mousemove\",\r\n        this.scrollWindowMouseMoveHandler\r\n      );\r\n      window.removeEventListener(\"mouseup\", this.scrollWindowMouseUpHandler);\r\n\r\n      // 允許選取文字.\r\n      this.$el.style.userSelect = \"text\";\r\n    },\r\n    // 滾輪事件.\r\n    wheelHandler({ deltaY }) {\r\n      // 關閉 scroll whell event 事件, 當前是 mobile 裝置.\r\n      if (!this.isScroll && this.isMobile) return false;\r\n\r\n      this.perfect += deltaY > 0 ? 0.2 : -0.2;\r\n\r\n      if (this.perfect > 1) this.perfect = 1;\r\n      if (this.perfect < 0) this.perfect = 0;\r\n\r\n      this.setTop();\r\n    },\r\n    // mobile 觸控按下事件.\r\n    touchstartHandler(event) {\r\n      // 關閉 scroll whell event 事件, 當前不是 mobile 裝置.\r\n      if (!this.isScroll && !this.isMobile) return false;\r\n\r\n      // 當前 information top 定位座標.\r\n      this.informationTop = information.offsetTop;\r\n      // 手機按下的 Y 軸座標.\r\n      this.informationTouchstartY = event.changedTouches[0].clientY;\r\n\r\n      window.addEventListener(\"touchmove\", this.touchmoveHandler);\r\n      window.addEventListener(\"touchend\", this.touchendHandler);\r\n    },\r\n    // mobile 觸控移動事件.\r\n    touchmoveHandler(e) {\r\n      // 手指移動的 top 定位.\r\n      let top =\r\n        this.informationTop +\r\n        e.changedTouches[0].clientY -\r\n        this.informationTouchstartY;\r\n\r\n      // 限制 top 定位的上下限.\r\n      if (top > 0) top = 0;\r\n      if (top < -this.informationRange) top = -this.informationRange;\r\n\r\n      this.perfect = top / this.informationRange;\r\n\r\n      this.setTop();\r\n    },\r\n    // mobile 觸控抬起事件.\r\n    touchendHandler() {\r\n      window.removeEventListener(\"touchmove\", this.touchmoveHandler);\r\n      window.removeEventListener(\"touchend\", this.touchendHandler);\r\n    },\r\n    // 判斷是電腦或 mobole 裝置的 event, 設定 information scroll 的 top 樣式.\r\n    setTop() {\r\n      if (this.isMobile) {\r\n        // 當前是 mobile 裝置.\r\n        this.informationRange = Math.abs(this.informationRange);\r\n        this.scrollRange = Math.abs(this.scrollRange) * -1;\r\n      } else {\r\n        // 當前是電腦.\r\n        this.informationRange = Math.abs(this.informationRange) * -1;\r\n        this.scrollRange = Math.abs(this.scrollRange);\r\n      }\r\n\r\n      information.style.top = this.informationRange * this.perfect + \"px\";\r\n      scroll.style.top = this.scrollRange * this.perfect + \"px\";\r\n    },\r\n    resizeHandler() {\r\n      // 判斷當前裝置類型.\r\n      this.isMobile = isMobileDevice(navigator.userAgent);\r\n\r\n      // 獲取螢幕寬度.\r\n      this.windowInnerWidth = window.innerWidth;\r\n      // information container 的高度.\r\n      this.informationContainerHeight = informationContainer.offsetHeight;\r\n      // information 內容的高度.\r\n      this.informationHeight = information.offsetHeight;\r\n      // information 可移動範圍.\r\n      this.informationRange = Math.abs(\r\n        this.informationContainerHeight - this.informationHeight\r\n      ).toFixed(0);\r\n\r\n      // scroll 的高度.\r\n      this.scrollHeight = scroll.offsetHeight;\r\n      // scroll 可移動範圍.\r\n      this.scrollRange = (\r\n        this.informationContainerHeight - this.scrollHeight\r\n      ).toFixed(0);\r\n\r\n      /**\r\n       * 判斷 information 內容的高度, 是否有超過 information Container 容器的高度,\r\n       * 若超過則需要 scroll 與 wheel 的 event 事件, 並顯示 scroll 的樣式.\r\n       */\r\n      if (this.informationHeight > this.informationContainerHeight) {\r\n        this.isScroll = this.isShowScroll = true;\r\n      } else {\r\n        this.isScroll = this.isShowScroll = false;\r\n      }\r\n\r\n      // 當前是 mobile 裝置, 關閉 scroll wheel event, 隱藏 scroll 樣式.\r\n      if (this.isMobile) this.isShowScroll = false;\r\n\r\n      // 調整 information scroll 的高度.\r\n      this.perfect = 0;\r\n      this.setTop();\r\n\r\n      // 刪除事件.\r\n      window.removeEventListener(\r\n        \"mousemove\",\r\n        this.scrollWindowMouseMoveHandler\r\n      );\r\n      window.removeEventListener(\"mouseup\", this.scrollWindowMouseUpHandler);\r\n      window.removeEventListener(\"touchmove\", this.touchmoveHandler);\r\n      window.removeEventListener(\"touchend\", this.touchendHandler);\r\n    },\r\n  },\r\n  watch: {\r\n    countyIndex() {\r\n      // 每次選擇都清空 townIndex 的值.\r\n      this.townIndex = null;\r\n      // 避免後續出錯.\r\n      if (this.countyIndex === null) return false;\r\n\r\n      this.$emit(\"setCenter\", {\r\n        center: this.countys[this.countyIndex].center,\r\n        zoom: 13,\r\n      });\r\n    },\r\n    townIndex() {\r\n      if (this.townIndex === null) return false;\r\n\r\n      this.$emit(\"setCenter\", {\r\n        center: this.towns[this.townIndex].center,\r\n        zoom: 15,\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    // 保存 dom, 事件計算時會用到.\r\n    informationContainer = this.$el;\r\n    information = this.$el.querySelector(\".information\");\r\n    scroll = this.$el.querySelector(\".scroll\");\r\n\r\n    window.addEventListener(\r\n      \"resize\",\r\n      debounce(this.resizeHandler, {\r\n        // resize 1 秒後執行函式.\r\n        wait: 1000,\r\n      })\r\n    );\r\n    this.resizeHandler();\r\n\r\n    // 阻止 mobile 下拉重新整理.\r\n    document.body.addEventListener(\r\n      \"touchmove\",\r\n      function(e) {\r\n        // 阻止默認事件函式.\r\n        e.preventDefault();\r\n      },\r\n      // 待補充.\r\n      { passive: false }\r\n    );\r\n  },\r\n};\r\n</script>\r\n\r\n<template src=\"./template.html\"></template>\r\n<style lang=\"scss\" src=\"./style.scss\" scoped></style>\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"map\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"map\"></div>\r\n</template>\r\n\r\n<script>\r\nexport default {};\r\n</script>\r\n\r\n<style lang=\"scss\" src=\"./style.scss\"></style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=2b974ab7&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./style.scss?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"panel\"},[_c('button',{staticClass:\"control\",class:{ active: !_vm.isAdult },attrs:{\"title\":\"切換 成人 / 兒童 口罩\"},on:{\"click\":function($event){return _vm.$emit('isAdult', !_vm.isAdult)}}},[_c('span',{staticClass:\"fas fa-child\"})]),_c('button',{staticClass:\"control\",attrs:{\"title\":\"地圖放大\"},on:{\"click\":function($event){return _vm.$emit('setZoom', 1)}}},[_c('span',{staticClass:\"fas fa-plus\"})]),_c('button',{staticClass:\"control\",attrs:{\"title\":\"地圖縮小\"},on:{\"click\":function($event){return _vm.$emit('setZoom', -1)}}},[_c('span',{staticClass:\"fas fa-minus\"})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\r\nexport default {\r\n  props: {\r\n    zoom: {\r\n      // 型別限制.\r\n      type: Number,\r\n      // 必定需要傳值.\r\n      required: true,\r\n    },\r\n    isAdult: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n  },\r\n};\r\n</script>\r\n<template src=\"./template.html\"></template>\r\n<style lang=\"scss\" scoped src=\"./style.scss\"></style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./template.html?vue&type=template&id=77656ce4&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./style.scss?vue&type=style&index=0&id=77656ce4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"77656ce4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"information-container\",class:{ active: _vm.isActive },on:{\"touchstart\":function($event){$event.stopPropagation();return _vm.touchstartHandler($event)}}},[_c('div',{staticClass:\"hidden-container\"},[_c('div',{staticClass:\"information\",on:{\"wheel\":function($event){return _vm.wheelHandler($event)}}},[_c('h1',{staticClass:\"logo\"},[_vm._v(\"口罩地圖\")]),_vm._m(0),_vm._m(1),_c('div',{staticClass:\"from\"},[_c('h3',[_vm._v(\"縣市\")]),_c('p',[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.countyIndex),expression:\"countyIndex\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.countyIndex=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{domProps:{\"value\":null}},[_vm._v(\"請選擇\")]),_vm._l((_vm.countys),function(item,index){return _c('option',{key:index,domProps:{\"value\":index}},[_vm._v(\" \"+_vm._s(item.county)+\" \")])})],2)]),_c('h3',[_vm._v(\"地區\")]),_c('p',[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.townIndex),expression:\"townIndex\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.townIndex=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{domProps:{\"value\":null}},[_vm._v(\"請選擇\")]),_vm._l((_vm.towns),function(item,index){return _c('option',{key:index,domProps:{\"value\":index}},[_vm._v(\" \"+_vm._s(item.town)+\" \")])})],2)])]),_vm._m(2)])]),_c('button',{staticClass:\"menu\",class:{ active: _vm.isActive },on:{\"click\":function($event){_vm.isActive = !_vm.isActive}}},[_c('span',{staticClass:\"fas fa-chevron-up\"})]),_c('div',{staticClass:\"scroll\",class:{active: _vm.isShowScroll},on:{\"mousedown\":function($event){return _vm.scrollMouseDownHandler($event)}}})])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"legend\"},[_c('div',{staticClass:\"sufficient\"},[_c('p',[_vm._v(\"50%以上\")])]),_c('div',{staticClass:\"warning\"},[_c('p',[_vm._v(\"49%~21%\")])]),_c('div',{staticClass:\"emergency\"},[_c('p',[_vm._v(\"20%以下\")])]),_c('div',{staticClass:\"soldOut\"},[_c('p',[_vm._v(\"無存貨\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"icon-information\"},[_c('div',{staticClass:\"item\"},[_c('img',{attrs:{\"src\":require(\"../../../public/images/current.svg\")}}),_c('p',[_vm._v(\"附近有 2 間以上的藥局\")])]),_c('div',{staticClass:\"item\"},[_c('img',{attrs:{\"src\":require(\"../../../public/images/sufficient.svg\")}}),_c('p',[_vm._v(\"藥局\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"copyright\"},[_c('p',[_vm._v(\" Copyright© 2021 \"),_c('a',{attrs:{\"href\":\"https://www.facebook.com/kai73002981\"}},[_vm._v(\"Kai\")])])])}]\n\nexport { render, staticRenderFns }","/**\r\n * 事件節流 - 減少事件函式的執行次數\r\n * 事件連續觸發, 事件函式需要一定的時間才會執行\r\n * @param {function} func - event function\r\n * @param {number} wait - 事件觸發後, 多久才可以執行事件函式, 若連續觸發事件,\r\n * 事件函式不會執行\r\n * @param {number} limit - 若事件連續觸發事件, 每間隔多少時間必需執行事件函式\r\n * @param {boolean} immediate - true 代表第一次觸發事件時執行一次事件函式, 再\r\n * 開始節流, false 代表直接開始節流\r\n * 補充, 通常針對 resize(視窗縮放) wheel(滾輪事件) mousemove(滑鼠移動)\r\n * keydown(鍵盤按下) ...\r\n */\r\nexport default function debounce(\r\n  func,\r\n  { wait = 1000 / 30, limit = 0, immediate = false }\r\n) {\r\n  // target - 事件函式的 this 目標\r\n  // event - 事件函式的 event 物件\r\n  // startTime - 事件函式執行後的時間\r\n  // currentTime - 當前時間\r\n  // timer - 用於保存 setTimeout, 讓需要時可以 clear setTimeout\r\n  let target, event, startTime, currentTime, timer;\r\n  // 包裝後的事件函式\r\n  function waitFunc() {\r\n    func.call(target, event);\r\n    startTime = currentTime;\r\n  }\r\n  // 事件函式\r\n  return function(e) {\r\n    // target - 事件函式的 this 目標\r\n    target = this;\r\n    // event - 事件函式的 event 物件\r\n    event = e;\r\n    // 事件觸發後, 當前的時間, 回傳由 1970-01-01 00:00:00 UTC 開始到現在的毫秒\r\n    currentTime = new Date().getTime();\r\n    /**\r\n     * 第一次觸發事件\r\n     * immediate 判斷是否要執行事件函式\r\n     * startTime 不會有第二次是 undefined, startTime = currentTime;\r\n     */\r\n    if (immediate && startTime === undefined) {\r\n      waitFunc();\r\n    }\r\n    // 清除定時器\r\n    clearTimeout(timer);\r\n    // 若需要強迫執行一次事件函式 && 間隔時間滿足條件時\r\n    if (limit && currentTime - startTime > limit) {\r\n      waitFunc();\r\n    } else {\r\n      // 間隔時間沒有滿足條件, 且沒有再觸發事件時, wait 時間到會自動執行事件函式\r\n      timer = setTimeout(waitFunc, wait);\r\n    }\r\n  };\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./template.html?vue&type=template&id=2bdb2e78&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./style.scss?vue&type=style&index=0&id=2bdb2e78&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2bdb2e78\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div id=\"app\">\r\n    <!-- <div id=\"map\"></div> -->\r\n    <MapComponent />\r\n    <Panel\r\n      @isAdult=\"isAdultHandler\"\r\n      @setZoom=\"setZoomHandler\"\r\n      :zoom=\"zoom\"\r\n      :isAdult=\"isAdult\"\r\n    />\r\n    <Information @setCenter=\"setCenterHandler\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 引入靜態資料.\r\nimport MaskMapData from \"./data/MaskMapData.json\";\r\n// 地圖的方法集合.\r\nimport MapHandler from \"./components/Map/MapHandler\";\r\n// 地圖組件.\r\nimport MapComponent from \"./components/Map/index.vue\";\r\n// 控制板組件.\r\nimport Panel from \"./components/Panel/index\";\r\n// 資訊組件.\r\nimport Information from \"./components/Information/index\";\r\n\r\n// 六角學院提供的口罩資料.\r\nconst MaskMapDataUrl =\r\n  \"https://raw.githubusercontent.com/kiang/pharmacies/master/json/points.json\";\r\n\r\nexport default {\r\n  name: \"App\",\r\n  data() {\r\n    return {\r\n      // 預設台北市為定位點.\r\n      position: [25.03746, 121.564558],\r\n      // 縮放程度 8, 數字越大, 越放大地圖.\r\n      zoom: 8,\r\n      // 預設 marker 顯示成人口罩的 icon 圖標.\r\n      isAdult: true,\r\n    };\r\n  },\r\n  methods: {\r\n    // 切換顯示成人口罩 or 兒童口罩的 marker icon 圖標.\r\n    isAdultHandler(isAdult) {\r\n      this.isAdult = isAdult;\r\n      MapHandler.setMarkersIcon(this.isAdult);\r\n    },\r\n    // 地圖縮放大小的控制.\r\n    setZoomHandler(calc) {\r\n      // 先讀取地圖的縮放倍率, 再根據按鈕計算 zoom 的值.\r\n      this.zoom = MapHandler.getZoom() + calc;\r\n      // 限制地圖的縮放倍率.\r\n      this.zoom = this.zoom > 18 ? 18 : this.zoom < 3 ? 3 : this.zoom;\r\n      // 調整地圖倍率.\r\n      MapHandler.setZoom(this.zoom);\r\n    },\r\n    // 給表單快速跳轉縣市地區.\r\n    setCenterHandler({ center, zoom }) {\r\n      MapHandler.setCenter({ center, zoom });\r\n    },\r\n    // 根據 id 找到對應的藥局資料, 並將地圖跳轉到該藥局.\r\n    getHash(data) {\r\n      // 這裡的 id 應該來自網址的 hash 值.\r\n      const id = location.hash ? location.hash.slice(1) : undefined;\r\n\r\n      // location.hash 不是數字, 或是不存在就停止函式.\r\n      if (isNaN(id)) return false;\r\n\r\n      // 藥局 id 長度好像固定是 10 位數.\r\n      if (id.length !== 10) {\r\n        location.hash = \"\";\r\n        return false;\r\n      }\r\n\r\n      // Array.prototype.findIndex(); 返回 true 後就不繼續迴圈.\r\n      const index = data.findIndex((item) => {\r\n        return item.properties.id === id;\r\n      });\r\n\r\n      // index 找不到就停止函式.\r\n      if (index === -1) return false;\r\n\r\n      // leafletjs 吃的經緯度與台灣資料的順序相反.\r\n      const center = [\r\n        data[index].geometry.coordinates[1],\r\n        data[index].geometry.coordinates[0],\r\n      ];\r\n\r\n      // 顯示指定的藥局.\r\n      MapHandler.setStore({ center, index });\r\n    },\r\n  },\r\n  components: { MapComponent, Panel, Information },\r\n  mounted() {\r\n    // 使用 axios, 請求六角學院提供的口罩資料.\r\n    // axios({\r\n    //   method: \"get\",\r\n    //   url: MaskMapDataUrl,\r\n    //   responseType: \"json\",\r\n    // })\r\n    //   // 如果請求成功, 就使用新的 ajax 資料.\r\n    //   .then((response) => {\r\n    //     // map 初始化.\r\n    //     MapHandler.init({\r\n    //       position: this.position,\r\n    //       zoom: this.zoom,\r\n    //       data: response.data.features,\r\n    //     });\r\n    //     // 判斷 hash 值是不是藥局的 id.\r\n    //     this.getHash(response.data.features);\r\n    //   })\r\n    //   // 如果請求失敗, 使用舊的靜態資料.\r\n    //   .catch(() => {\r\n    //     // map 初始化.\r\n    //     MapHandler.init({\r\n    //       position: this.position,\r\n    //       zoom: this.zoom,\r\n    //       data: MaskMapData.features,\r\n    //     });\r\n    //     // 判斷 hash 值是不是藥局的 id.\r\n    //     this.getHash(MaskMapData.features);\r\n    //   });\r\n\r\n    // map 初始化.\r\n    MapHandler.init({\r\n      position: this.position,\r\n      zoom: this.zoom,\r\n      data: MaskMapData.features,\r\n    });\r\n    // 判斷 hash 值是不是藥局的 id.\r\n    this.getHash(MaskMapData.features);\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import \"./assets/style/media\";\r\n\r\nhtml {\r\n  font-family: \"Helvetica Neue\", Arial, Helvetica, sans-serif;\r\n  line-height: 1.5rem;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\nbody {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n#app {\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n  position: relative;\r\n  left: 0px;\r\n  top: 0px;\r\n}\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=96d54bbe&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\r\nimport App from \"./App.vue\";\r\n\r\nVue.config.productionTip = false;\r\n\r\nnew Vue({\r\n  render: (h) => h(App),\r\n}).$mount(\"#app\");\r\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/sufficient.d74b6aae.svg\";","module.exports = __webpack_public_path__ + \"img/current.0b87c49b.svg\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./style.scss?vue&type=style&index=0&id=2bdb2e78&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./style.scss?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!./style.scss?vue&type=style&index=0&id=77656ce4&lang=scss&scoped=true&\""],"sourceRoot":""}